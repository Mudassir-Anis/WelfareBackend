
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Comments</h2>

<div class="row">
    <div class="col-lg-12">

        <div id="main_portlet" class="kt-portlet">
            <div class="kt-portlet__body">
                <div class="col-md-12 kt-form__group-sub">
                    <table id="Banner_list" class=" table table-bordered table table-striped table-bordered table-hover table-checkable display nowrap">
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Visitor Detail</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 kt-form__group-sub">
                        <div class="form-group">
                            <p style="margin-bottom:5px">
                                <b>Name</b>
                            </p>
                            <span style="margin-left:5px;" class="Name">Nawaz</span>
                        </div>
                        <div class="form-group">
                            <p style="margin-bottom:5px">
                                <b>Email</b>

                            </p>
                            <span style="margin-left:5px;" class="Email">Organisation</span>
                        </div>
                        <div class="form-group">
                            <p style="margin-bottom:5px">
                                <b>Subject</b>
                            </p>
                            <span style="margin-left:5px;" class="Subject"></span>
                        </div>
                        <div class="form-group">
                            <p style="margin-bottom:5px">
                                <b>Comment</b>
                            </p>
                            <span style="margin-left:5px;" class="Comment1"></span>
                        </div>
                       


                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    //106 for save   107 error    108 update delete 109 1018
    $(document).ready(function () {




        $('#Banner_form').validate({
            ignore: ':hidden',
        });


        GetData();

        function GetData() {
            var table = $('#Banner_list').DataTable({
                'scrollX': true,
                "ajax":
                {
                    "url": '/Comment/GetComments',
                    "data": function (d) {
                    },
                    "type": "GET"
                },
                "columns": [
                    {
                        title: 'S#',
                        "data": "Id",
                        render: function () {
                            return 999;
                        }
                    },
                    {
                        title: "Name",
                        "data": "Name",

                    },
                    {
                        title: "Email",
                        "data": "Email",

                    },
                    {
                        title: "Subject",
                        "data": "Subject",

                    },
                    {
                        title: "Comment ",
                        "data": "Comment1",
                        "class": "text-wrap"
                    },

                    {
                        title: "Action(s)",
                        "data": null,
                        "render": function (data, type, row, meta) {
                            return AppCodes.Dynamic.StandardButtons.Edit('edit');
                        }
                    }
                ],
                drawCallback: async function () {

                    $('.edit').off('click');
                    $('.edit').on('click', function () {

                        let data = table.rows($(this).closest('tr')).data().toArray()[0];
                        
                        $('.Name').text(data.Name);
                        $('.Email').text(data.Email);
                        $('.Subject').text(data.Subject);
                        $('.Comment1').text(data.Comment1);
                        $('#editModal').modal('show');

                    });
                }
            });
            table.on('draw.dt', function () {
                let info = table.page.info();
                table.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1;
                });
            }).draw();

        }



    });
</script>

